{"ast":null,"code":"import { authService } from './authService';\nconst API_URL = 'http://localhost/api';\nconst getHeaders = () => {\n  const headers = {\n    'Content-Type': 'application/json'\n  };\n  const token = authService.getToken();\n  if (token) {\n    headers['Authorization'] = `Bearer ${token}`;\n  }\n  return headers;\n};\nexport const api = {\n  // Users\n  async getUsers() {\n    const response = await fetch(`${API_URL}/users`, {\n      headers: getHeaders()\n    });\n    if (!response.ok) throw new Error('Failed to fetch users');\n    return response.json();\n  },\n  async createUser(user) {\n    const response = await fetch(`${API_URL}/users`, {\n      method: 'POST',\n      headers: getHeaders(),\n      body: JSON.stringify(user)\n    });\n    if (!response.ok) throw new Error('Failed to create user');\n    return response.json();\n  },\n  // Devices\n  async getDevices() {\n    const response = await fetch(`${API_URL}/devices`, {\n      headers: getHeaders()\n    });\n    if (!response.ok) throw new Error('Failed to fetch devices');\n    return response.json();\n  },\n  async createDevice(device) {\n    const response = await fetch(`${API_URL}/devices`, {\n      method: 'POST',\n      headers: getHeaders(),\n      body: JSON.stringify(device)\n    });\n    if (!response.ok) throw new Error('Failed to create device');\n    return response.json();\n  },\n  async assignDevice(userId, deviceId) {\n    const response = await fetch(`${API_URL}/devices/assign`, {\n      method: 'POST',\n      headers: getHeaders(),\n      body: JSON.stringify({\n        userId,\n        deviceId\n      })\n    });\n    if (!response.ok) throw new Error('Failed to assign device');\n    return response.json();\n  }\n};","map":{"version":3,"names":["authService","API_URL","getHeaders","headers","token","getToken","api","getUsers","response","fetch","ok","Error","json","createUser","user","method","body","JSON","stringify","getDevices","createDevice","device","assignDevice","userId","deviceId"],"sources":["P:/Cursuri/Cursuri/SD/labCode/lab/frontend/src/api.js"],"sourcesContent":["import { authService } from './authService';\r\n\r\nconst API_URL = 'http://localhost/api';\r\n\r\nconst getHeaders = () => {\r\n  const headers = { 'Content-Type': 'application/json' };\r\n  const token = authService.getToken();\r\n  if (token) {\r\n    headers['Authorization'] = `Bearer ${token}`;\r\n  }\r\n  return headers;\r\n};\r\n\r\nexport const api = {\r\n  // Users\r\n  async getUsers() {\r\n    const response = await fetch(`${API_URL}/users`, {\r\n      headers: getHeaders()\r\n    });\r\n    if (!response.ok) throw new Error('Failed to fetch users');\r\n    return response.json();\r\n  },\r\n\r\n  async createUser(user) {\r\n    const response = await fetch(`${API_URL}/users`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify(user)\r\n    });\r\n    if (!response.ok) throw new Error('Failed to create user');\r\n    return response.json();\r\n  },\r\n\r\n  // Devices\r\n  async getDevices() {\r\n    const response = await fetch(`${API_URL}/devices`, {\r\n      headers: getHeaders()\r\n    });\r\n    if (!response.ok) throw new Error('Failed to fetch devices');\r\n    return response.json();\r\n  },\r\n\r\n  async createDevice(device) {\r\n    const response = await fetch(`${API_URL}/devices`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify(device)\r\n    });\r\n    if (!response.ok) throw new Error('Failed to create device');\r\n    return response.json();\r\n  },\r\n\r\n  async assignDevice(userId, deviceId) {\r\n    const response = await fetch(`${API_URL}/devices/assign`, {\r\n      method: 'POST',\r\n      headers: getHeaders(),\r\n      body: JSON.stringify({ userId, deviceId })\r\n    });\r\n    if (!response.ok) throw new Error('Failed to assign device');\r\n    return response.json();\r\n  }\r\n};\r\n"],"mappings":"AAAA,SAASA,WAAW,QAAQ,eAAe;AAE3C,MAAMC,OAAO,GAAG,sBAAsB;AAEtC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EACvB,MAAMC,OAAO,GAAG;IAAE,cAAc,EAAE;EAAmB,CAAC;EACtD,MAAMC,KAAK,GAAGJ,WAAW,CAACK,QAAQ,CAAC,CAAC;EACpC,IAAID,KAAK,EAAE;IACTD,OAAO,CAAC,eAAe,CAAC,GAAG,UAAUC,KAAK,EAAE;EAC9C;EACA,OAAOD,OAAO;AAChB,CAAC;AAED,OAAO,MAAMG,GAAG,GAAG;EACjB;EACA,MAAMC,QAAQA,CAAA,EAAG;IACf,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,QAAQ,EAAE;MAC/CE,OAAO,EAAED,UAAU,CAAC;IACtB,CAAC,CAAC;IACF,IAAI,CAACM,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;IAC1D,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;EACxB,CAAC;EAED,MAAMC,UAAUA,CAACC,IAAI,EAAE;IACrB,MAAMN,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,QAAQ,EAAE;MAC/Cc,MAAM,EAAE,MAAM;MACdZ,OAAO,EAAED,UAAU,CAAC,CAAC;MACrBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;IAC3B,CAAC,CAAC;IACF,IAAI,CAACN,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;IAC1D,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;EACxB,CAAC;EAED;EACA,MAAMO,UAAUA,CAAA,EAAG;IACjB,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,UAAU,EAAE;MACjDE,OAAO,EAAED,UAAU,CAAC;IACtB,CAAC,CAAC;IACF,IAAI,CAACM,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;IAC5D,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;EACxB,CAAC;EAED,MAAMQ,YAAYA,CAACC,MAAM,EAAE;IACzB,MAAMb,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,UAAU,EAAE;MACjDc,MAAM,EAAE,MAAM;MACdZ,OAAO,EAAED,UAAU,CAAC,CAAC;MACrBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACG,MAAM;IAC7B,CAAC,CAAC;IACF,IAAI,CAACb,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;IAC5D,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;EACxB,CAAC;EAED,MAAMU,YAAYA,CAACC,MAAM,EAAEC,QAAQ,EAAE;IACnC,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGR,OAAO,iBAAiB,EAAE;MACxDc,MAAM,EAAE,MAAM;MACdZ,OAAO,EAAED,UAAU,CAAC,CAAC;MACrBc,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEK,MAAM;QAAEC;MAAS,CAAC;IAC3C,CAAC,CAAC;IACF,IAAI,CAAChB,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,yBAAyB,CAAC;IAC5D,OAAOH,QAAQ,CAACI,IAAI,CAAC,CAAC;EACxB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}